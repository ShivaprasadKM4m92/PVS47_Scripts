DATE_RANGE_ENUM={CUSTOM:"CUSTOM",CUMULATIVE:"CUMULATIVE",RELATIVE:"RELATIVE"};X_OPERATOR_ENUMS={LAST_X_DAYS:"LAST_X_DAYS",LAST_X_WEEKS:"LAST_X_WEEKS",LAST_X_MONTHS:"LAST_X_MONTHS",LAST_X_YEARS:"LAST_X_YEARS"};DATE_RANGE_TYPE={SUBMISSION_DATE:"submissionDate"};DATE_DISPLAY="MM/DD/YYYY";DATE_FMT_TZ="YYYY-MM-DD";
$(document).ready(function(){function b(){var a=$("#"+$(this).attr("for"));a.toggle();a.is(":visible")?$(this).text(LABELS.labelHideAdavncedOptions):$(this).text(LABELS.labelShowAdavncedOptions)}function c(){null!=document.getElementById("dateRangeType")&&document.getElementById("dateRangeType").value===DATE_RANGE_TYPE.SUBMISSION_DATE?($("#evaluateDateAs").val($("#evaluateDateAsSubmissionDate").val()),d($("#evaluateDateAs").val()),$("#evaluateDateAsDiv").hide(),$("#evaluateDateAsSubmissionDateDiv").show(),
$("#asOfVersionDatePicker").hide()):($("#evaluateDateAs").val($("#evaluateDateAsNonSubmission").val()),d($("#evaluateDateAs").val()),$("#evaluateDateAsDiv").show(),$("#evaluateDateAsSubmissionDateDiv").hide())}function d(a){"undefined"!=typeof a&&null!=a&&(-1!=a.toLowerCase().indexOf("latest")?$("#includeLockedVersion").removeAttr("disabled"):($("#includeLockedVersion").prop("checked",!0),$("#includeLockedVersion").attr("disabled",!0),$("#lockedVersion").val(!0)))}(function(){var a=null;null!=document.getElementById("asOfVersionDateValue")&&
null!=document.getElementById("asOfVersionDateValue").value&&(a=document.getElementById("asOfVersionDateValue").value);$("#asOfVersionDatePicker").datepicker({allowPastDates:!0,date:a}).on("changed.fu.datepicker",function(c,d){a=d;b()}).click(function(){a=$("#asOfVersionDatePicker").datepicker("getDate");b()});var b=function(){"Invalid Date"!=a&&""!=a&&$('input[name="asOfVersionDate"]').val(moment(a).format(DEFAULT_DATE_FORMAT))};b()})();null!=document.getElementById("dateRangeEnum").value&&_.contains(X_OPERATOR_ENUMS,
document.getElementById("dateRangeEnum").value)&&$(document.getElementById("templateQueries[0].dateRangeInformationForTemplateQuery.relativeDateRangeValue")).hide();$("#onOrAfterDatePicker").datepicker({allowPastDates:!0,date:null,formatDate:function(a){return moment(a).tz(userTimeZone).format(DATE_DISPLAY)}});$("#editOnOrAfterDatePicker").datepicker({allowPastDates:!0,formatDate:function(a){return moment(a).tz(userTimeZone).format(DATE_DISPLAY)}});null!=document.getElementById("evaluateDateAs")&&
"VERSION_ASOF"===document.getElementById("evaluateDateAs").value?$("#asOfVersionDatePicker").show():$("#asOfVersionDatePicker").hide();$("#dateRangeType").select2({placeholder:"Select Date Range type"});$(".evaluateDateAs").select2({placeholder:"Select Case Date On"});$(document).on("change","#evaluateDateAsNonSubmission",function(){var a=$("#evaluateDateAsNonSubmission").select2("val");c();a?-1!=a.toLowerCase().indexOf("as")?$("#asOfVersionDatePicker").show():$("#asOfVersionDatePicker").hide():$("#asOfVersionDatePicker").hide()});
$(document).on("change","#evaluateDateAsSubmissionDate",function(){c()});$(document).on("change","#dateRangeType",function(){c()});c();$(document).on("change",".dateRangeEnumClass",function(){this.id.replace(/[^0-9\.]+/g,"")});$(".glyphicon-calendar").on("click",function(){var a=$(document).find(".fromDateChanged");_.each(a,function(a,b){})});$("#includeLockedVersion").change(function(){$("#lockedVersion").val(this.checked)});$("#includeLockedVersion").prop("checked",$("#includeLockedVersion").prop("defaultChecked"));
"faers"===$("#selectedDatasource").val()&&($("#includeLockedVersion").prop("checked",!1).prop("disabled",!0),$("#missedCases").prop("checked",!1).prop("disabled",!0));$("#dateRangeEnumProductFreqTrue").hide();$("#dateRangeEndProductFreqTrue").hide();$("#dateRangeStartProductFreqTrue").hide();$("#frequency").hide();$("#dateRangeStartProductFreq").change(function(){$("#dateRangeEndProductFreq").get(0).selectedIndex=$("#dateRangeStartProductFreq :selected").index()});$("#dateRangeEndProductFreq").change(function(){$("#dateRangeStartProductFreq").get(0).selectedIndex=
$("#dateRangeEndProductFreq :selected").index()});$(".showHeaderFooterArea").on("click",b);$(".showAdvancedOption").on("click",b)});
function dateRangeChangedAction(b,c){var d=$(b.getElementById("templateQueries["+c+"].datePickerFromDiv")),a=$(b.getElementById("templateQueries["+c+"].datePickerToDiv")),e=$(b.getElementById("templateQueries["+c+"].dateRangeInformationForTemplateQuery.relativeDateRangeValue")),f=b.getElementById("templateQueries["+c+"].dateRangeInformationForTemplateQuery.dateRangeEnum").value;f===DATE_RANGE_ENUM.CUSTOM?(initializeDatePickersForEdit(b,c),d.show(),a.show(),e.hide()):f===DATE_RANGE_ENUM.CUMULATIVE?
(d.hide(),a.hide(),e.hide()):(_.contains(X_OPERATOR_ENUMS,f)?e.show():e.hide(),d.hide(),a.hide())}
function initializeDatePickersForEdit(b,c){var d=null,a=null,e=b.getElementById("templateQueries["+c+"].dateRangeInformationForTemplateQuery.dateRangeStartAbsolute"),f=b.getElementById("templateQueries["+c+"].dateRangeInformationForTemplateQuery.dateRangeEndAbsolute");e.value&&(d=e.value);f.value&&(a=f.value);$(b.getElementById("templateQueries["+c+"].datePickerFromDiv")).datepicker({allowPastDates:!0,date:d,twoDigitYearProtection:!0,momentConfig:{culture:userLocale,format:DEFAULT_DATE_DISPLAY_FORMAT}});
$(b.getElementById("templateQueries["+c+"].datePickerToDiv")).datepicker({allowPastDates:!0,date:a,twoDigitYearProtection:!0,momentConfig:{culture:userLocale,format:DEFAULT_DATE_DISPLAY_FORMAT}})}function dataRangeEnumClassOnChange(b){b=b.id.replace(/[^0-9\.]+/g,"");dateRangeChangedAction(document,parseInt(b))}
function checkNumberFields(){var b=!0;$.each($(".relativeDateRangeValue"),function(){Number(this.value)?($(this).parent().removeClass("has-error"),$(this).parent().find(".notValidNumberErrorMessage").hide()):(b=!1,$(this).parent().addClass("has-error"),$(this).parent().find(".notValidNumberErrorMessage").show())});return b};