DATE_RANGE_ENUM={CUSTOM:"CUSTOM",CUMULATIVE:"CUMULATIVE",RELATIVE:"RELATIVE"};X_OPERATOR_ENUMS={LAST_X_DAYS:"LAST_X_DAYS",LAST_X_WEEKS:"LAST_X_WEEKS",LAST_X_MONTHS:"LAST_X_MONTHS",LAST_X_YEARS:"LAST_X_YEARS"};DATE_DISPLAY="MM/DD/YYYY";DATE_FMT_TZ="YYYY-MM-DD";
$(document).ready(function(){function f(a,d){var b=null,c=null;(d=document.getElementById("dateRangeStartAbsolute"))&&d.value&&(b=a.getElementById("dateRangeStartAbsolute").value,$("#dateRangeStartProductFreqFalse").is(":visible")&&$(a.getElementById("datePickerFromDiv")).datepicker("setDate",new Date(b.split("-")[0],b.split("-")[1]-1,b.split("-")[2])),c=a.getElementById("dateRangeEndAbsolute").value,$("#dateRangeEndProductFreqFalse").is(":visible")&&$(a.getElementById("datePickerToDiv")).datepicker("setDate",
new Date(c.split("-")[0],c.split("-")[1]-1,c.split("-")[2])));$(a.getElementById("datePickerFromDiv")).datepicker({allowPastDates:!0,date:b,formatDate:function(a){return setDefaultDisplayDateFormat(a)}}).on("changed.fu.datepicker",function(a,c){b=c;e()}).click(function(c){b=$(a.getElementById("datePickerFromDiv")).datepicker("getDate");e()});$(a.getElementById("datePickerToDiv")).datepicker({allowPastDates:!0,date:c,formatDate:function(a){return setDefaultDisplayDateFormat(a)}}).on("changed.fu.datepicker",
function(a,b){c=b;e()}).click(function(){c=$(a.getElementById("datePickerToDiv")).datepicker("getDate");e()});var e=function(){$(a.getElementById("dateRangeStartAbsolute")).val(moment(b).format(DATE_FMT_TZ));$(a.getElementById("dateRangeEndAbsolute")).val(moment(c).format(DATE_FMT_TZ))};e()}function g(a,d){"CUSTOM"==$(a.getElementById("dateRangeEnumProductFreqTrue")).children().val()&&$("#dateRangeEnumProductFreqTrue").is(":visible")&&($(".fromDateChanged").show(),$(".toDateChanged").show(),$("#dateRangeStartProductFreqTrue").show(),
$("#dateRangeEndProductFreqTrue").show(),$("#frequency").show());$("#dateRangeStartProductFreqTrue").hide();$("#dateRangeEndProductFreqTrue").hide();var b=a.getElementById("dateRangeEnum").value;b||(b=$("#dateRangeEnum").val());b===DATE_RANGE_ENUM.CUSTOM?(f(a,d),$(a.getElementById("datePickerFromDiv")).show(),$(a.getElementById("datePickerToDiv")).show(),$(a.getElementById("relativeDateRangeValue")).hide()):b===DATE_RANGE_ENUM.CUMULATIVE?($(a.getElementById("datePickerFromDiv")).hide(),$(a.getElementById("datePickerToDiv")).hide(),
$(a.getElementById("relativeDateRangeValue")).hide()):(_.contains(X_OPERATOR_ENUMS,b)?$(a.getElementById("relativeDateRangeValue")).show():$(a.getElementById("relativeDateRangeValue")).hide(),$(a.getElementById("datePickerFromDiv")).hide(),$(a.getElementById("datePickerToDiv")).hide())}null!=document.getElementById("dateRangeEnum").value&&_.contains(X_OPERATOR_ENUMS,document.getElementById("dateRangeEnum").value)&&$(document.getElementById("relativeDateRangeValue")).show();$("#onOrAfterDatePicker").datepicker({allowPastDates:!0,
date:null,formatDate:function(a){return moment(a).tz(userTimeZone).format(DATE_DISPLAY)}});$("#editOnOrAfterDatePicker").datepicker({allowPastDates:!0,formatDate:function(a){return moment(a).tz(userTimeZone).format(DATE_DISPLAY)}});(function(a){var d=$(a).find(".dateRangeEnumClass");_.each(d,function(b,c){0==c&&g(a,parseInt(c))})})(document);$(document).on("change",".dateRangeEnumClass",function(){var a=this.id.replace(/[^0-9\.]+/g,"");g(document,parseInt(a))});$("#myDatePicker").datepicker({date:$("#myDatePicker").val()?
new Date($("#myDatePicker").val()):null,formatDate:function(a){return setDefaultDisplayDateFormat(a)}});$("#datePickerFromDiv").datepicker({allowPastDates:!0,date:$("#datePickerFromDiv").val()?new Date($("#datePickerFromDiv").val()):null,formatDate:function(a){return setDefaultDisplayDateFormat(a)}});$("#datePickerToDiv").datepicker({allowPastDates:!0,date:$("#datePickerToDiv").val()?new Date($("#datePickerToDiv").val()):null,formatDate:function(a){return setDefaultDisplayDateFormat(a)}});$(".glyphicon-calendar").on("click",
function(){var a=$(document).find(".fromDateChanged");_.each(a,function(d,b){b<a.length-1&&g(document,parseInt(b))})});$("#dateRangeEnumProductFreqTrue").hide();$("#dateRangeEndProductFreqTrue").hide();$("#dateRangeStartProductFreqTrue").hide();$("#frequency").hide();$("#dateRangeStartProductFreq").change(function(){$("#dateRangeEndProductFreq").get(0).selectedIndex=$("#dateRangeStartProductFreq :selected").index()});$("#dateRangeEndProductFreq").change(function(){$("#dateRangeStartProductFreq").get(0).selectedIndex=
$("#dateRangeEndProductFreq :selected").index()})});function checkNumberFields(){var f=!0;$.each($(".relativeDateRangeValue"),function(){Number(this.value)?($(this).parent().removeClass("has-error"),$(this).parent().find(".notValidNumberErrorMessage").hide()):(f=!1,$(this).parent().addClass("has-error"),$(this).parent().find(".notValidNumberErrorMessage").show())});return f};