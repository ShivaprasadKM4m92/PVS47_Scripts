var scheduleDateJSONDefault;
$(document).ready(function(){function f(a,c){var b=a.hour()+0;a=a.minute()+c;60<=a&&(b+=Math.floor(a/60),a%=60);c=12<=b?"PM":"AM";b=(b%=12)?b:12;return(9<b?b:"0"+b)+":"+(9<a?a:"0"+a)+" "+c}function g(a,c){var b=12<=a?"PM":"AM";a=(a%=12)?a:12;return(9<a?a:"0"+a)+":"+(9<c?c:"0"+c)+" "+b}function l(){var a=moment($("#schedulerTime").val()),c=f(a,0),b=c.split(":")[0],e=c.split(":")[1].split(" ")[0],d=30>e?30-e:60-e;$("#time").text(c);c=c.split(":")[1].split(" ")[1];b=2*(12-b);"AM"==c&&(b+=48);e=30>e?
b:b-1;for(b=0;b<e-1;b++)$("#myScheduler #timeSelect ul").append('<li><a href="#">'+f(a,d)+"</a></li>"),d+=30;if(d=$("#timezoneFromServer").val())if(e=d.split(","))d=e[0].split(":")[1].trim(),e=e[1].substring(8).trim(),$("#myScheduler").scheduler("value",{startDateTime:a.format("YYYY-MM-DDTHH:mm:ss")+e,timeZone:{name:d}})}$("#myDatePicker").datepicker({date:$("#myDatePicker").val()?new Date($("#myDatePicker").val()):null,momentConfig:{culture:userLocale,tz:userTimeZone,format:DEFAULT_DATE_DISPLAY_FORMAT}});
if($("#scheduleDateJSON").val()&&"true"===$("#isEnabled").val()&&"false"===$("#editable").val()){var d=$("#scheduleDateJSON").val();if(d=JSON.parse(d))delete d.timeZone.text,delete d.timeZone.selected,$("#myScheduler").scheduler("value",d),$("#configSelectedTimeZone").val(d.timeZone.name);for(d=0;24>d;d++)for(var h=0,k=0;2>k;k++)$("#myScheduler #timeSelect ul").append('<li><a href="#">'+g(d,h)+"</a></li>"),h=30}else l();$("#myScheduler").on("changed.fu.scheduler",function(a,c){a=$("#myScheduler").scheduler("value");
$("#scheduleDateJSON").val(JSON.stringify(a));$("#configSelectedTimeZone").val(a.timeZone.name)}).trigger("changed.fu.scheduler");$("#myDatePicker").on("changed.fu.datepicker dateClicked.fu.datepicker",function(){var a=$("#myDatePicker").datepicker("getDate");if(moment().tz(userTimeZone)<moment(a))for($("#myScheduler #timeSelect ul").empty(),a=0;24>a;a++){for(var c=0,b=0;2>b;b++)$("#myScheduler #timeSelect ul").append('<li><a href="#">'+g(a,c)+"</a></li>"),c=30;$("#myStartTime").val("12:00 AM")}a=
$("#myScheduler").scheduler("value");$("#scheduleDateJSON").val(JSON.stringify(a));$("#configSelectedTimeZone").val(a.timeZone.name)});document.getElementById("enable")&&$("#enable").val()&&$("#schedule *").prop("disabled",!0);scheduleDateJSONDefault=JSON.stringify($("#myScheduler").scheduler("value"))});