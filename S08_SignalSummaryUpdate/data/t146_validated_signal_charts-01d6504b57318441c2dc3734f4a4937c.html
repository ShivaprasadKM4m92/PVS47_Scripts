$(document).ready(function(){var e=$("#signalId").val(),d=function(b,c){b={};var d=$("#eventSelectionAssessment").val(),f=$("#productSelectionAssessment").val();b.dataSource=$("#dataSources").val();b.dateRange=$("#dateRange").val();b.productSelection=f;b.eventSelection=d;b["validatedSignal.id"]=$("#signalIdPartner").val();b.chartType=c;$.ajax({type:"POST",url:graphReportRestUrl,data:b,success:function(a){if(a.status)switch(a=a.data,c){case SIGNAL_CHARTS.AGE_GROUP:age_group_data.options.series=a[SIGNAL_CHARTS.AGE_GROUP];
age_group_data.options.xAxis[0].categories=getCategoriesFromData(a[SIGNAL_CHARTS.AGE_GROUP][0].data);signal.charts.direct_draw_bar_chart(SIGNAL_CHARTS.AGE_GROUP,age_group_data.options);break;case SIGNAL_CHARTS.SERIOUSNESS:seriousness_data.options.series=a[SIGNAL_CHARTS.SERIOUSNESS];seriousness_data.options.xAxis[0].categories=getCategoriesFromData(a[SIGNAL_CHARTS.SERIOUSNESS][0].data);signal.charts.direct_draw_bar_chart(SIGNAL_CHARTS.SERIOUSNESS,seriousness_data.options);break;case SIGNAL_CHARTS.COUNTRY:country_data.options.series=
a[SIGNAL_CHARTS.COUNTRY];country_data.options.xAxis[0].categories=getCategoriesFromData(a[SIGNAL_CHARTS.COUNTRY][0].data);signal.charts.direct_draw_bar_chart(SIGNAL_CHARTS.COUNTRY,country_data.options);break;case SIGNAL_CHARTS.GENDER:gender_data.options.series=a[SIGNAL_CHARTS.GENDER];gender_data.options.xAxis[0].categories=getCategoriesFromData(a[SIGNAL_CHARTS.GENDER][0].data);signal.charts.direct_draw_bar_chart(SIGNAL_CHARTS.GENDER,gender_data.options);break;case SIGNAL_CHARTS.OUTCOME:outcome_data.options.series=
a[SIGNAL_CHARTS.OUTCOME];outcome_data.options.xAxis[0].categories=getCategoriesFromData(a[SIGNAL_CHARTS.OUTCOME][0].data);signal.charts.direct_draw_bar_chart(SIGNAL_CHARTS.OUTCOME,outcome_data.options);break;case SIGNAL_CHARTS.SERIOUS_PIE_CHART:pie_chart_data.options.series=a[SIGNAL_CHARTS.SERIOUS_PIE_CHART];pie_chart_data.options.xAxis[0].categories=getCategoriesFromData(a[SIGNAL_CHARTS.SERIOUS_PIE_CHART][0].data);signal.charts.direct_draw_bar_chart(SIGNAL_CHARTS.SERIOUS_PIE_CHART,pie_chart_data.options);
break;case SIGNAL_CHARTS.HEAT_MAP:init_system_organ_heat_chart(a.systemOrganClass.years,a.systemOrganClass.socs,a.systemOrganClass.data);break;case SIGNAL_CHARTS.ASSESSMENT_DETAILS:$("#assessmentDetails .rxmain-container-content").html(a.assessmentDetailView),$("#assessmentDetails").hasClass("in")||$('div[href="#assessmentDetails"]').click()}else $.Notification.notify("error","top right","Error",a.message,{autoHideDelay:2E4}),$("#"+c).html('<span style="margin-left: 40%; margin-top:30%">No Data</span>')}})},
h=function(){var b=$("#caseCountArgus").val(),c=$("#pecCountArgus").val(),d=$("#pecCountEvdas").val(),f=$("#isEvdasEnabled").val(),a=["PVA"],b=[parseInt(b)],c=[parseInt(c)];"true"==f&&(a.push("EVDAS"),b.push(0),c.push(parseInt(d)));$("#caseCount").css("height",250);$("#caseCount").highcharts({chart:{type:"column"},title:{text:""},xAxis:{title:"Data-Sources",categories:a},yAxis:{title:"Case Counts",tickInterval:1},series:[{name:"Case Count",data:b},{name:"PEC Count",data:c}],credits:{enabled:!1},legend:{enabled:!0}})};
h();var k=function(){var b=$("#isEvdasEnabled").val(),c=[{name:"Case Count",data:g("medConceptsDataCC").map(Number)},{name:"PEC(PVA)",data:g("medConceptsDataPA").map(Number)}];"true"==b&&c.push({name:"PEC(EVDAS)",data:g("medConceptsDataPE").map(Number)});$("#medicalConcept").highcharts({chart:{type:"bar"},title:{text:""},xAxis:{title:"Medical Concepts",categories:g("medConceptsData")},yAxis:{title:"Case Count",tickInterval:1},series:c,credits:{enabled:!1}})},g=function(b){b=$("#"+b).val();return""!=
b&&null!=b?b.slice(1,-1).split(","):[]};k();$(".caseCountChart").click(function(){$("#caseCount").html('<span style="margin-left: 40%; margin-top:30%">Rendering Chart....</span>');h()});$(".medicalConceptChart").click(function(){$("#medicalConcept").html('<span style="margin-left: 40%; margin-top:30%">Rendering Chart....</span>');k()});$(".generate-assessment-reports").click(function(){var b='<span style="margin-left: 40%; margin-top:30%">Rendering Chart...</span>';$(".assessment-chart").html(b);
$("#assessmentDetails .rxmain-container-content").html('<span style="margin-left: 40%; margin-top:30%">Rendering Table...</span>');$("#report-generating").show();$(".generate-assessment-reports").hide();var c={},d=$("#eventSelectionAssessment").val(),f=$("#productSelectionAssessment").val();c.dataSource=$("#dataSources").val();c.dateRange=$("#dateRange").val();c.productSelection=f;c.eventSelection=d;c["validatedSignal.id"]=$("#signalIdPartner").val();$("#showProductSelectionAssessment").html()&&$("#showEventSelectionAssessment").html()?
$.ajax({type:"POST",url:graphReportRestUrl,data:c,success:function(a){a.status?(a=a.data,$("#assessmentDetails .rxmain-container-content").html(a.assessmentDetailView),age_group_data.options.series=a["age-grp-over-time-chart"],age_group_data.options.xAxis[0].categories=getCategoriesFromData(a["age-grp-over-time-chart"][0].data),seriousness_data.options.series=a["seriousness-over-time-chart"],seriousness_data.options.xAxis[0].categories=getCategoriesFromData(a["seriousness-over-time-chart"][0].data),
country_data.options.series=a["country-over-time-chart"],country_data.options.xAxis[0].categories=getCategoriesFromData(a["country-over-time-chart"][0].data),gender_data.options.series=a["gender-over-time-chart"],gender_data.options.xAxis[0].categories=getCategoriesFromData(a["gender-over-time-chart"][0].data),outcome_data.options.series=a["outcome-over-time-chart"],outcome_data.options.xAxis[0].categories=getCategoriesFromData(a["outcome-over-time-chart"][0].data),pie_chart_data.options.series=a["seriousness-count-pie-chart"],
pie_chart_data.options.xAxis[0].categories=getCategoriesFromData(a["seriousness-count-pie-chart"][0].data),signal.charts.direct_draw_bar_chart("age-grp-over-time-chart",age_group_data.options),signal.charts.direct_draw_bar_chart("seriousness-over-time-chart",seriousness_data.options),signal.charts.direct_draw_bar_chart("country-over-time-chart",country_data.options),signal.charts.direct_draw_bar_chart("gender-over-time-chart",gender_data.options),signal.charts.direct_draw_bar_chart("outcome-over-time-chart",
outcome_data.options),signal.charts.direct_draw_bar_chart("seriousness-count-pie-chart",pie_chart_data.options),init_system_organ_heat_chart(a.systemOrganClass.years,a.systemOrganClass.socs,a.systemOrganClass.data),$(".refresh-charts").show()):($.Notification.notify("error","top right","Error",a.message,{autoHideDelay:2E4}),b='<span style="margin-left: 40%; margin-top:30%">No Data</span>',$(".assessment-chart").html(b),$("#assessmentDetails .rxmain-container-content").html(b));$("#report-generating").hide();
$(".generate-assessment-reports").show()},error:function(){b='<span style="margin-left: 40%; margin-top:30%">No Data</span>';$(".assessment-chart").html(b);$("#assessmentDetails .rxmain-container-content").html(b);$("#report-generating").hide();$(".generate-assessment-reports").show()}}):(b='<span style="margin-left: 30%; margin-top:30%">No Product or Event Selected</span>',$(".assessment-chart").html(b),$("#assessmentDetails .rxmain-container-content").html(b),$("#report-generating").hide(),$(".generate-assessment-reports").show())});
$(".refresh-charts").unbind().click(function(){var b=$(this).attr("data-id");$("#"+b).html('<span style="margin-left: 40%; margin-top:30%">Rendering Chart...</span>');$("#"+b).css("height",400);d(e,b)});$(".refresh-table").unbind().click(function(b){b=$(this).attr("data-id");$("#"+b+" .rxmain-container-content").html('<span style="margin-left: 40%; margin-top:30%">Rendering Table...</span>');d(e,b)})});
var getCategoriesFromData=function(e){var d=[];e.forEach(function(e){d.push(e.name)});return d},age_group_data={options:{chart:{backgroundColor:null,type:"column",zoomType:"x"},credits:{enabled:!1},lang:{message:{code:"app.label.widget.noData"}},legend:{enabled:!0},plotOptions:{series:{dataLabels:{enabled:!0},showInLegend:!0,stacking:"normal"}},series:[],title:{text:null},xAxis:[{categories:"2000-MAR 2001-JAN 2003-MAR 2011-JAN 2011-MAR 2012-MAY 2013-FEB 2014-AUG 2015-FEB 2015-OCT 2016-FEB".split(" "),
type:"category"}],yAxis:[{tickInterval:1,title:{text:"Case Count"}}],zoomType:"x"},title:"Product AJ Review-1502428490133"},country_data={options:{background2:"#F0F0EA",chart:{backgroundColor:null,style:{fontFamily:"Dosis, sans-serif"},type:"column",zoomType:"x"},colors:"#7cb5ec #f7a35c #90ee7e #7798BF #aaeeee #ff0066 #eeaaee #55BF3B #DF5353 #7798BF #aaeeee".split(" "),credits:{enabled:!1},lang:{message:{code:"app.label.widget.noData"}},legend:{enabled:!0},plotOptions:{candlestick:{lineColor:"#404048"},
series:{dataLabels:{enabled:!0},showInLegend:!0,stacking:"normal"}},series:[],title:{style:{fontSize:"16px",fontWeight:"bold",textTransform:"uppercase"},text:null},tooltip:{backgroundColor:"rgba(219,219,216,0.8)",borderWidth:0,shadow:!1},xAxis:[{categories:"2000-MAR 2001-JAN 2003-MAR 2011-JAN 2011-MAR 2012-MAY 2013-FEB 2015-FEB".split(" "),type:"category"}],yAxis:[{tickInterval:1,title:{text:"Case Count"}}]},title:"Product AJ Review-1501748382376"},gender_data={options:{background2:"#F0F0EA",chart:{type:"column",
backgroundColor:"#FFFFFF",zoomType:"x"},colors:"#058DC7 #50B432 #ED561B #DDDF00 #24CBE5 #64E572 #FF9655 #FFF263 #6AF9C4 #7798BF #aaeeee".split(" "),credits:{enabled:!1},labels:{style:{color:"#99b"}},lang:{message:{code:"app.label.widget.noData"}},legend:{enabled:!0},navigation:{buttonOptions:{theme:{stroke:"#CCCCCC"}}},plotOptions:{candlestick:{lineColor:"#404048"},series:{dataLabels:{enabled:!0},showInLegend:!0,stacking:"normal"}},series:[],subtitle:{style:{color:"#666666",font:'bold 12px "Trebuchet MS", Verdana, sans-serif'}},
title:{style:{color:"#000",font:'bold 16px "Trebuchet MS", Verdana, sans-serif',fontSize:"16px",fontWeight:"bold",textTransform:"uppercase"},text:null},tooltip:{backgroundColor:"rgba(219,219,216,0.8)",borderWidth:0,shadow:!1},xAxis:[{categories:"2000-MAR 2001-JAN 2003-MAR 2011-JAN 2011-MAR 2012-MAY 2013-FEB 2014-AUG 2015-FEB 2015-OCT 2016-FEB".split(" "),type:"category"}],yAxis:[{tickInterval:1,title:{text:"Case Count"}}]},title:"Product AJ Review-1502946976720"},seriousness_data={options:{chart:{backgroundColor:null,
style:{fontFamily:"'Lucida Grande', 'Lucida Sans Unicode', Verdana, Arial, Helvetica, sans-serif",fontSize:"12px"},type:"column",zoomType:"x"},colors:"#7cb5ec #434348 #90ed7d #f7a35c #8085e9 #f15c80 #e4d354 #2b908f #f45b5b #91e8e1".split(" "),credits:{enabled:!1},labels:{style:{color:"#333333"}},lang:{message:{code:"app.label.widget.noData"}},legend:{enabled:!0},navigation:{buttonOptions:{theme:{stroke:"#CCCCCC"}}},plotOptions:{series:{dataLabels:{enabled:!0},showInLegend:!0,stacking:"normal"}},series:[],
subtitle:{style:{color:"#666666"}},title:{style:{color:"#333333",fontSize:"18px"},text:null},xAxis:[{categories:"2000-MAR 2001-JAN 2003-MAR 2011-JAN 2011-MAR 2012-MAY 2013-FEB 2014-AUG 2015-FEB 2015-OCT 2016-FEB".split(" "),type:"category"}],yAxis:[{tickInterval:1,title:{text:"Case Count"}}]},title:"Product AJ Review-1504150592989"},outcome_data={options:{background2:"#F0F0EA",chart:{type:"column",backgroundColor:"#FFFFFF",zoomType:"x"},colors:"#058DC7 #50B432 #ED561B #DDDF00 #24CBE5 #64E572 #FF9655 #FFF263 #6AF9C4 #7798BF #aaeeee".split(" "),
credits:{enabled:!1},labels:{style:{color:"#99b"}},lang:{message:{code:"app.label.widget.noData"}},legend:{enabled:!0},navigation:{buttonOptions:{theme:{stroke:"#CCCCCC"}}},plotOptions:{candlestick:{lineColor:"#404048"},series:{dataLabels:{enabled:!0},showInLegend:!0,stacking:"normal"}},series:[],subtitle:{style:{color:"#666666",font:'bold 12px "Trebuchet MS", Verdana, sans-serif'}},title:{style:{color:"#000",font:'bold 16px "Trebuchet MS", Verdana, sans-serif',fontSize:"16px",fontWeight:"bold",textTransform:"uppercase"},
text:null},tooltip:{backgroundColor:"rgba(219,219,216,0.8)",borderWidth:0,shadow:!1},xAxis:[{categories:"2000-MAR 2001-JAN 2003-MAR 2011-JAN 2011-MAR 2012-MAY 2013-FEB 2014-AUG 2015-FEB 2015-OCT 2016-FEB".split(" "),type:"category"}],yAxis:[{tickInterval:1,title:{text:"Case Count"}}]},title:"Product AJ Review-1502946976720"},pie_chart_data={options:{background2:"#F0F0EA",chart:{type:"column",backgroundColor:"#FFFFFF",zoomType:"x"},colors:"#058DC7 #50B432 #ED561B #DDDF00 #24CBE5 #64E572 #FF9655 #FFF263 #6AF9C4 #7798BF #aaeeee".split(" "),
credits:{enabled:!1},labels:{style:{color:"#99b"}},lang:{message:{code:"app.label.widget.noData"}},legend:{enabled:!0},navigation:{buttonOptions:{theme:{stroke:"#CCCCCC"}}},plotOptions:{candlestick:{lineColor:"#404048"},series:{dataLabels:{enabled:!0},showInLegend:!0,stacking:"normal"}},series:[],subtitle:{style:{color:"#666666",font:'bold 12px "Trebuchet MS", Verdana, sans-serif'}},title:{style:{color:"#000",font:'bold 16px "Trebuchet MS", Verdana, sans-serif',fontSize:"16px",fontWeight:"bold",textTransform:"uppercase"},
text:null},tooltip:{backgroundColor:"rgba(219,219,216,0.8)",borderWidth:0,shadow:!1},xAxis:[{categories:"2000-MAR 2001-JAN 2003-MAR 2011-JAN 2011-MAR 2012-MAY 2013-FEB 2014-AUG 2015-FEB 2015-OCT 2016-FEB".split(" "),type:"category"}],yAxis:[{tickInterval:1,title:{text:"Case Count"}}]},title:"Product AJ Review-1502946976720"};