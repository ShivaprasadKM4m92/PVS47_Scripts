var DEFAULT_DMS_OPTIONS={PAGE_ORIENTATION:"${PageOrientation.PORTRAIT}",PAPER_SIZE:"${PageSizeEnum.A4}",SENSITIVITY_LABEL:"${SensitivityLabelEnum.CONFIDENTIAL}",SHOW_PAGE_NUMBERING:!0,EXCLUDE_CRITERIA_SHEET:!1,EXCLUDE_APPENDIX:!1,EXCLUDE_COMMENTS:!1,EXCLUDE_LEGEND:!1,SHOW_COMPANY_LOGO:!0};dms_utils={};dms_utils.configuration_util=dms_utils.configuration_util||{};
dms_utils.isFirstLoad=function(a,c){var e=void 0===a.firstLoad;a.firstLoad=!1;e||console.log("Warning: Javascript file is included twice: "+c);return e};$(document).ready(function(){dms_utils.isFirstLoad(dms_utils.configuration_util,"dmsConfiguration.js")&&(dmsConfig(),$("#sendToDmsModal").on("show.bs.modal",function(a){$.ajax({url:addDmsConfiguration,success:function(a){$("#dmsConfigContainer1").html(a);dmsConfig()}})}))});
function dmsConfig(){var a=$("#dmsConfiguration"),c=$("input[name=dmsConfiguration\\.noDocumentOnNoData]"),e=$("input[name=dmsConfiguration\\.folder]"),d=$("input[name=dmsConfiguration\\.name]"),b=$("textarea[name=dmsConfiguration\\.description]"),f=$("input[name=dmsConfiguration\\.tag]"),g=$("select[name=dmsConfiguration\\.pageOrientation]"),h=$("select[name=dmsConfiguration\\.paperSize]"),k=$("select[name=dmsConfiguration\\.sensitivityLabel]"),l=$("input[name=dmsConfiguration\\.showPageNumbering]"),
m=$("input[name=dmsConfiguration\\.excludeCriteriaSheet]"),n=$("input[name=dmsConfiguration\\.excludeAppendix]"),p=$("input[name=dmsConfiguration\\.excludeComments]"),q=$("input[name=emailConfiguration\\.excludeLegend]"),r=$("input[name=dmsConfiguration\\.showCompanyLogo]"),t=$("input[name=noDocumentOnNoDataValue]"),u=$("input[name=folderValue]"),v=$("input[name=nameValue]"),w=$("input[name=descriptionValue]"),x=$("input[name=tagValue]"),y=$("input[name=pageOrientationValue]"),z=$("input[name=paperSizeValue]"),
A=$("input[name=sensitivityLabelValue]"),B=$("input[name=showPageNumberingValue]"),C=$("input[name=excludeCriteriaSheetValue]"),D=$("input[name=excludeAppendixValue]"),E=$("input[name=excludeCommentsValue]"),F=$("input[name=excludeLegendValue]"),G=$("input[name=showCompanyLogoValue]");$("#cancelDmsConfiguration").off("click","#cancelDmsConfiguration").on("click",function(a){e.val(u.val());initFolders();d.val(v.val());b.val(w.val());f.val(x.val());g.val(y.val());h.val(z.val());k.val(A.val());c.prop("checked",
"true"==t.val());l.prop("checked","true"==B.val());m.prop("checked","true"==C.val());n.prop("checked","true"==D.val());p.prop("checked","true"==E.val());q.prop("checked","true"==F.val());r.prop("checked","true"==G.val());$(this).attr("data-dismiss","modal")});$(document).off("click",".showDmsConfigurationDlg").on("click",".showDmsConfigurationDlg",function(c){if(0==$(".dmsEnabled").length||$(".dmsEnabled").is(":checked"))a.modal("show"),d.prop("placeholder",$("input[name=reportName]").val()),b.prop("placeholder",
$("textarea[name=description]").val()),c=$("#tags").val(),f.prop("placeholder",c?c:"")});$(a).find("#resetDmsConfiguration").off("click","#resetDmsConfiguration").on("click",function(a){c.val("");e.val("");getFolders("","0");d.val("");b.val("");f.val("");g.val(DEFAULT_DMS_OPTIONS.PAGE_ORIENTATION);h.val(DEFAULT_DMS_OPTIONS.PAPER_SIZE);k.val(DEFAULT_DMS_OPTIONS.SENSITIVITY_LABEL);l.prop("checked",DEFAULT_DMS_OPTIONS.SHOW_PAGE_NUMBERING);m.prop("checked",DEFAULT_DMS_OPTIONS.EXCLUDE_CRITERIA_SHEET);
n.prop("checked",DEFAULT_DMS_OPTIONS.EXCLUDE_APPENDIX);p.prop("checked",DEFAULT_DMS_OPTIONS.EXCLUDE_COMMENTS);q.prop("checked",DEFAULT_DMS_OPTIONS.EXCLUDE_LEGEND);r.prop("checked",DEFAULT_DMS_OPTIONS.SHOW_COMPANY_LOGO);initFolders()});initFolders()}function initFolders(){var a=$("input[name=folderValue]").val();a?getFolders("","0",a.split("/"),0):getFolders("","0")}
function getFolders(a,c,e,d){$.ajax({url:dmsFoldersUrl,type:"get",data:{folder:a},error:function(a){console.log($.i18n._("Error")+" : "+a)},success:function(b){b=drawFolders(a,b,c);e&&d<e.length-1&&getFolders(a+"/"+e[d+1],b,e,d+1)}})}
function drawFolders(a,c,e){var d=(new Date).getTime(),b=a?a:"Root Folder";-1<b.indexOf("/")&&(b=b.substr(b.lastIndexOf("/")));b='<span class="dmsFolder" onclick="clearSubfolders(\''+d+"','"+a+"')\">"+b+"</span>";if(c&&0<c.length){for(var b=b+('<span class="dropdown"><button class="btn btn-default btn-xs nextDmsFolder dropdown-toggle" id="'+d+'" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><span class="glyphicon glyphicon-chevron-right"></span></button><ul class="dropdown-menu" aria-labelledby="'+
d+'">'),f=0;f<c.length;f++)b+='<li><a href="#" onclick="getFolders(\''+a+"/"+c[f]+"','"+d+'\')" data-place="'+d+'">'+c[f]+"</a></li>";b+="</ul></span>"}b+='<span id="place_'+d+'"></span>';$("#place_"+e).html(b);$("input[name=dmsConfiguration\\.folder]").val(a);return d}function clearSubfolders(a,c){$("#place_"+a).html("");$("input[name=dmsConfiguration\\.folder]").val(c)};